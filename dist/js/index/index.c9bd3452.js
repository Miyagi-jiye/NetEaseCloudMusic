import{b as s,o as e,I as a}from"../vant/vant.52bb3d0f.js";import{k as o}from"./index.7b9efb6e.js";import{_ as l}from"../../assets/index-047f360a.js";import{r as n,P as t,Q as u,G as d,a2 as i,U as r,V as c,W as p}from"../@vue/@vue.94aa2a2d.js";const v=s=>(r("data-v-d59f690d"),s=s(),c(),s),m={class:"FollowButton"},f=v((()=>p("span",null,"已关注",-1))),y=v((()=>p("span",null,"关注",-1))),_=l({__name:"index",props:{followed:{type:Boolean,required:!0},id:{type:Number,required:!0}},setup(l){const r=n(l.followed),c=n(!1);async function p(s,a){c.value=!0;const l=await o(s,a);console.log("关注/取关",l),l&&200==l.code?(r.value=!r.value,c.value=!1,e(1==a?{message:"关注成功",icon:"success",duration:1e3}:{message:"取消关注成功",type:"success",duration:1e3})):(c.value=!1,e({type:"fail",message:"操作失败"}))}return(e,o)=>{const n=a,v=s;return t(),u("div",m,[r.value?(t(),u("div",{key:0,class:"FollowButton__followed",onClick:o[0]||(o[0]=s=>p(l.id,0))},[d(n,{name:"success"}),f])):(t(),u("div",{key:1,class:"FollowButton__unfollowed",onClick:o[1]||(o[1]=s=>p(l.id,1))},[c.value?(t(),i(v,{key:0,size:"12px",color:"#797979"})):(t(),i(n,{key:1,name:"plus"})),y]))])}}},[["__scopeId","data-v-d59f690d"]]);export{_ as F};
