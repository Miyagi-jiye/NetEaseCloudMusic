import{b as e,o as s,I as a}from"../vant/vant.52bb3d0f.js";import{k as o}from"./index.1b674fdb.js";import{_ as l}from"../../assets/index-04b0ac89.js";import{r as n,P as t,Q as u,G as i,a2 as r,U as c,V as d,W as p}from"../@vue/@vue.94aa2a2d.js";const v=e=>(c("data-v-7bb5e7ef"),e=e(),d(),e),m={class:"FollowButton"},f=v((()=>p("span",null,"已关注",-1))),y=v((()=>p("span",null,"关注",-1))),_=l({__name:"index",props:{followed:{type:Boolean,required:!0},id:{type:Number,required:!0}},setup(l){const c=n(l.followed),d=n(!1);async function p(e,a){d.value=!0;const l=await o(e,a);console.log("关注/取关",l),l&&200==l.code?(c.value=!c.value,d.value=!1,s(1==a?{message:"关注成功",icon:"success",duration:1e3}:{message:"取消关注成功",type:"success",duration:1e3})):(d.value=!1,s({type:"fail",message:"操作失败"}))}return(s,o)=>{const n=a,v=e;return t(),u("div",m,[c.value?(t(),u("div",{key:0,class:"FollowButton__followed",onClick:o[0]||(o[0]=e=>p(l.id,0))},[i(n,{name:"success"}),f])):(t(),u("div",{key:1,class:"FollowButton__unfollowed",onClick:o[1]||(o[1]=e=>p(l.id,1))},[d.value?(t(),r(v,{key:0,size:"12px",color:"#797979"})):(t(),r(n,{key:1,name:"plus"})),y]))])}}},[["__scopeId","data-v-7bb5e7ef"]]);export{_ as F};
