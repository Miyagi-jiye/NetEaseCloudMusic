import{E as a,T as t,l as e}from"../vant/vant.52bb3d0f.js";import{a4 as s,I as i,P as n,Q as r,W as c,_ as o,a2 as m,X as l,Z as d,a as p,r as g,ab as u,G as v,$ as b,L as _,a0 as f,u as j}from"../@vue/@vue.94aa2a2d.js";import{_ as y}from"../../assets/index-bc50e15e.js";import{d as k}from"../pinia/pinia.86e899a9.js";import{a as h}from"../axios/axios.c5318529.js";import"../@vant/@vant.4990c6ed.js";import"../vue-router/vue-router.b68e67a8.js";import"../nprogress/nprogress.6d8e6ba3.js";import"../form-data/form-data.01cb563f.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.712c107f.js";const w={class:"back"};const Q=y({},[["render",function(a,t){const e=s("draggable");return i((n(),r("div",w,[c("div",{class:"back-inner",onClick:t[0]||(t[0]=o((t=>a.$router.back()),["prevent"]))})])),[[e]])}],["__scopeId","data-v-edf5a484"]]),X={class:"bangumi-item"},x={class:"img"},F=["alt"],D={class:"info"},I={key:0,class:"title"},C={key:1,class:"title"},z=y({__name:"item",props:{data:{type:Object,default:()=>({id:899,url:"http://bgm.tv/subject/899",type:2,name:"名探偵コナン",name_cn:"名侦探柯南",summary:"",air_date:"1996-01-08",air_weekday:1,rating:{total:6347,count:{1:17,2:6,3:16,4:41,5:198,6:736,7:1940,8:1902,9:749,10:742},score:7.7},rank:575,images:{large:"http://lain.bgm.tv/pic/cover/l/01/88/899_Q3F3X.jpg",common:"http://lain.bgm.tv/pic/cover/c/01/88/899_Q3F3X.jpg",medium:"http://lain.bgm.tv/pic/cover/m/01/88/899_Q3F3X.jpg",small:"http://lain.bgm.tv/pic/cover/s/01/88/899_Q3F3X.jpg",grid:"http://lain.bgm.tv/pic/cover/g/01/88/899_Q3F3X.jpg"},collection:{doing:5685}})}},setup:t=>(e,o)=>{const p=a,g=s("lazy"),u=s("preview");return n(),r("div",X,[c("div",x,[t.data.images?i((n(),r("img",{key:0,alt:t.data.name,referrerpolicy:"no-referrer"},null,8,F)),[[g,t.data.images.common],[u,t.data.images.large]]):(n(),m(p,{key:1,"image-size":"100",image:"error"}))]),c("div",D,[t.data.name_cn?(n(),r("div",I,l(t.data.name_cn),1)):t.data.name?(n(),r("div",C,l(t.data.name),1)):d("",!0)])])}},[["__scopeId","data-v-b25ccf91"]]),$=k("bangumi",(()=>{const a=p({calendar:[]});return{bangumiData:a,getCalendar:async()=>{const t=await h.get("https://api.bgm.tv/calendar");a.calendar=t.data,console.log("bangumi每日放送",t.data)}}}),{persist:!0}),E={class:"bangumi"},G={class:"bangumi-items"},L=y({__name:"index",async setup(a){let s,i;const o=g(0),{bangumiData:l,getCalendar:d}=$();[s,i]=u((()=>d())),await s,i();return(()=>{const a=(new Date).getDay();o.value=0==a?6:a-1})(),(a,s)=>{const i=t,d=e;return n(),r("div",E,[v(d,{active:o.value,"onUpdate:active":s[0]||(s[0]=a=>o.value=a),swipeable:"",sticky:""},{default:b((()=>[(n(!0),r(_,null,f(j(l).calendar,((a,t)=>(n(),m(i,{key:t,title:a.weekday.cn},{default:b((()=>[c("div",G,[(n(!0),r(_,null,f(a.items,(a=>(n(),m(z,{key:a.id,data:a},null,8,["data"])))),128))])])),_:2},1032,["title"])))),128))])),_:1},8,["active"]),v(Q)])}}},[["__scopeId","data-v-5eeaa9b1"]]);export{L as default};
