<template>
  <div class="footer">
    <div class="tabbar">

      <span class="tabbar__item" :class="{ item__active: active == 0 }" @click="activeToRouter(0)">
        <svg t="1667647776985" class="icon" :class="{ icon__active: active == 0 }" viewBox="0 0 1024 1024" version="1.1"
          xmlns="http://www.w3.org/2000/svg" p-id="2851" width="24" height="24">
          <path
            d="M875.008 295.424a34.133333 34.133333 0 1 0-58.197333 35.669333c35.328 57.514667 53.930667 123.562667 53.930666 191.488 0 201.898667-164.352 366.250667-366.250666 366.250667S138.24 724.48 138.24 522.581333 302.592 156.330667 504.490667 156.330667c18.773333 0 34.133333-15.36 34.133333-34.133334s-15.36-34.133333-34.133333-34.133333C264.874667 88.064 69.973333 282.965333 69.973333 522.581333s194.901333 434.517333 434.517334 434.517334 434.517333-194.901333 434.517333-434.517334c0.170667-80.384-22.016-159.061333-64-227.157333z"
            p-id="2852"></path>
          <path
            d="M501.248 389.973333c-77.653333 0-140.8 63.146667-140.8 140.8s63.146667 140.8 140.8 140.8 140.8-63.146667 140.8-140.8V224.256c0-19.456 15.872-35.328 35.328-35.328 19.456 0 35.328 15.872 35.328 35.328 0 18.773333 15.36 34.133333 34.133333 34.133333s34.133333-15.36 34.133334-34.133333c0-57.173333-46.421333-103.594667-103.594667-103.594667s-103.594667 46.421333-103.594667 103.594667v186.026667a140.526933 140.526933 0 0 0-72.533333-20.309334z m0 213.333334a72.704 72.704 0 0 1-72.533333-72.533334 72.704 72.704 0 0 1 72.533333-72.533333 72.704 72.704 0 0 1 72.533333 72.533333 72.704 72.704 0 0 1-72.533333 72.533334z"
            p-id="2853"></path>
        </svg>
        <div class="bottom">发现</div>
      </span>

      <span class="tabbar__item" :class="{ item__active: active == 1 }" @click="activeToRouter(1)">
        <svg t="1667648541531" class="icon" :class="{ icon__active: active == 1 }" viewBox="0 0 1024 1024" version="1.1"
          xmlns="http://www.w3.org/2000/svg" p-id="3211" width="24" height="24">
          <path
            d="M918.3 74.7c-13.3-11.2-30.8-15.9-47.9-12.8l-503.3 88.8c-28.1 5-48.5 29.3-48.5 57.8v500.8c-24.9-21.2-57.1-34.1-92.3-34.1-78.6 0-142.6 64-142.6 142.6s64 142.6 142.6 142.6 142.6-64 142.6-142.6V369.2L889 277.4v331.2c-24.9-21.2-57.1-34.1-92.3-34.1-78.6 0-142.6 64-142.6 142.6s64 142.6 142.6 142.6 142.6-64 142.6-142.6V119.7c0-17.4-7.6-33.8-21-45zM226.3 910c-50.9 0-92.3-41.4-92.3-92.3s41.4-92.3 92.3-92.3 92.3 41.4 92.3 92.3-41.4 92.3-92.3 92.3z m142.6-591.9V208.5c0-4.1 2.9-7.6 6.9-8.3l503.3-88.8c3.4-0.5 5.7 0.9 6.8 1.9 1.1 0.9 3 3 3 6.4v106.7l-520 91.7z m427.8 491.3c-50.9 0-92.3-41.4-92.3-92.3s41.4-92.3 92.3-92.3 92.3 41.4 92.3 92.3-41.4 92.3-92.3 92.3z"
            p-id="3212"></path>
        </svg>
        <div class="bottom">我的</div>
      </span>

      <span class="tabbar__item" :class="{ item__active: active == 2 }" @click="activeToRouter(2)">
        <svg t="1667648651534" class="icon" :class="{ icon__active: active == 2 }" viewBox="0 0 1024 1024" version="1.1"
          xmlns="http://www.w3.org/2000/svg" p-id="6753" width="24" height="24">
          <path
            d="M332.329412 530.070588C266.070588 487.905882 223.905882 415.623529 223.905882 331.294118c0-132.517647 108.423529-240.941176 240.941177-240.941177s240.941176 108.423529 240.941176 240.941177-108.423529 240.941176-240.941176 240.941176c-198.776471 0-361.411765 162.635294-361.411765 361.411765 0 18.070588-12.047059 30.117647-30.117647 30.117647s-30.117647-12.047059-30.117647-30.117647c0-186.729412 120.470588-343.341176 289.129412-403.576471zM464.847059 512c102.4 0 180.705882-78.305882 180.705882-180.705882s-78.305882-180.705882-180.705882-180.705883-180.705882 78.305882-180.705883 180.705883 78.305882 180.705882 180.705883 180.705882z m373.458823 289.129412c36.141176-36.141176 36.141176-90.352941 0-126.494118-36.141176-36.141176-90.352941-36.141176-126.494117 0-12.047059 12.047059-30.117647 12.047059-42.164706 0-36.141176-36.141176-90.352941-36.141176-126.494118 0-36.141176 36.141176-36.141176 90.352941 0 126.494118l150.588235 150.588235 144.564706-150.588235z m42.164706-168.658824c60.235294 60.235294 60.235294 156.611765 0 210.82353l-168.658823 168.658823c-12.047059 12.047059-30.117647 12.047059-42.164706 0L500.988235 843.294118c-60.235294-60.235294-60.235294-156.611765 0-210.82353 54.211765-54.211765 132.517647-60.235294 192.752941-18.070588 54.211765-42.164706 138.541176-36.141176 186.729412 18.070588zM43.2 0"
            p-id="6754"></path>
        </svg>
        <div class="bottom">关注</div>
      </span>

      <!-- <span class="tabbar__item" :class="{ item__active: active == 3 }" @click="activeToRouter(3)">
        <svg t="1669972349681" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="9204" :class="{ icon__active: active == 3 }" width="24" height="24">
          <path
            d="M805.376 948.736h-588.8c-44.544 0-80.896-36.352-80.896-80.896V175.616c0-44.544 36.352-80.896 80.896-80.896h425.472L866.304 281.6l19.968 19.968v566.272c-0.512 45.056-36.864 80.896-80.896 80.896zM216.576 154.112C204.8 154.112 194.56 163.84 194.56 176.128v692.224c0 11.776 9.728 22.016 22.016 22.016h588.8c11.776 0 22.016-9.728 22.016-22.016V326.144l-0.512-0.512-205.824-171.52h-404.48z m424.96-58.88z"
            fill="currentColor" p-id="9205"></path>
          <path
            d="M875.52 372.736h-211.456c-44.544 0-80.896-36.352-80.896-80.896V103.424h58.88V291.84c0 11.776 9.728 22.016 22.016 22.016H875.52v58.88zM713.216 517.632H310.784c-16.384 0-29.184-13.312-29.184-29.184 0-16.384 13.312-29.184 29.184-29.184h401.92c16.384 0 29.696 13.312 29.696 29.184s-13.312 29.184-29.184 29.184zM713.216 692.736H310.784c-16.384 0-29.184-13.312-29.184-29.696 0-16.384 13.312-29.696 29.184-29.696h401.92c16.384 0 29.696 13.312 29.696 29.696 0 16.384-13.312 29.696-29.184 29.696z"
            fill="currentColor" p-id="9206"></path>
        </svg>
        <div class="bottom">关于</div>
      </span> -->

    </div>
  </div>
</template>

<script setup>
import { ref } from "vue"
import { useRoute, useRouter } from "vue-router"

const active = ref(0)
const route = useRoute()
const router = useRouter()

// 初始化根据路由显示激活项
function init() {
  if (route.path == "/discover") {
    active.value = 0
  } else if (route.path == "/home") {
    active.value = 1
  } else if (route.path == "/follow") {
    active.value = 2
  } else if (route.path == "/about") {
    active.value = 3
  }
}

// 激活路由跳转
function activeToRouter(e) {
  active.value = e
  switch (e) {
    case 0:
      router.push({ path: "/discover" })
      break
    case 1:
      router.push({ path: "/home" })
      break
    case 2:
      router.push({ path: "/follow" })
      break
    case 3:
      router.push({ path: "/about" })
      break
  }
}

init()
</script>

<style scoped lang="less">
.tabbar {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100%;
  width: 100%;
  background: var(--van-nav-bar-background);

  .tabbar__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    color: var(--font-color-5);
    cursor: pointer;

    .icon {
      // font-size: 0;
      display: block;
      fill: currentColor;
    }

    .bottom {
      font-size: 12px;
    }
  }

  .icon__active {
    // background-color: #E60026;
    background: linear-gradient(45deg, #E60026 0%, #ff5555 50%, #ffffff 100%);
    border-radius: 50%;
    padding: 4px;
    box-sizing: border-box;
    color: #fff;
    fill: currentColor;
  }

  .item__active {
    color: #E60026;
  }
}
</style>